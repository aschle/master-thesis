\chapter{Theoretical Background for Network Analysis of Insect Colonies}
The following chapter gives a short introduction into social network analysis (SNA) and introduces social insect interaction networks, as a specific type of a biological network. It defines terms and concepts used throughout this work and explains the used network metrics and algorithms.
Furthermore, I summarize the most relevant studies, that use a network analysis approach to investigate interaction networks of social insect colonies.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Social Network Analysis}
\label{ch:bg}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

A \emph{social network} is a representation of a social structure comprising actors such as individuals, affiliations, as well as their social interactions.
The network model conceptualizes social, economic, or political structures as lasting patterns of interactions between actors~\cite{wasserman1994social}.
In mathematical terms, networks are graphs and thus consist of \emph{nodes} (vertex, representing individuals), and \emph{links} (edges, relationships or interactions).
Social network analysis provides a set of methods, measures, and theories, borrowed from network and graph theory, to investigate social structures and its dynamics.

This work focuses on the special case of social insect networks, where individuals are nodes and edges represent interaction events between individuals. Those networks are called \emph{interaction networks} and sometimes also association networks.
According to~\textcite{charbonneau2013social} those interactions used as an edge can be of four different types when looking at social insect networks: spatial proximity, physical contact (usually with antennae, ``antennation''), a food exchange event (trophallaxis\footnote{The mouse-to-mouse transfer of fluids is called trophallaxis and is used by social insects.}), or specific communication signals.

Edges can be directed (e.g. trophallaxis) or undirected, weighted or unweighted. The edge weights represent the strength of the relationship; commonly the number or duration of interactions is used~\cite{farine2015constructing}.


\subsection{Temporal Networks}
When modeling temporal or so-called dynamic networks, two main approaches exist: (1) time-aggregated (discrete), where the data is aggregated either in a disjoint, overlapping or cumulative snapshot, and (2) the time-ordered (continuous) approach, with interactions having a start and end timestamp~\cite{moody2005dynamic, Pinter-Wollman2014, blonder2012temporal}.

The time-aggregated approach aggregates the data for each snapshot and therefore reduces the available information per edge. In contrast, the time-ordered approach retains the information about when the interaction occurred and how long it lasted. It provides a detailed insight when timing and order of interactions are important. Moreover, therefore it can be used to model the topological flow of information through a network.

Choosing a suitable time interval for data aggregation is challenging~\cite{Pinter-Wollman2014}, but many methods for analyzing time-aggregated networks already exists, whereas, for time-ordered networks, only a limit toolset is available. To model nodes and edge weights in time-aggregated networks can be challenging when taking into account that interactions, which occurred earlier or later in time should be weighted accordingly.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Network Measures and Metrics}
\label{sec:definitions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
The following definitions are mainly taken from~\textcite{barabasi2016network} and ~\textcite{newman2010networks}. The gray box below summarizes the basic variables and terms used in the course of this work.\\

\colorbox{usethiscolorhere}{
\begin{minipage}[!b]{\dimexpr\textwidth}%
\parbox{0.95\textwidth}{
\small
\begin{addmargin}[1em]{0em}
\vspace{5mm}
\begin{description}
	\item[Network size] $N$ is the total number of nodes, respectively animals in a network.
	\item[Number of links] $L$ is the total number of links in a network, representing social interactions.
	\item[Edge weight] $w_{ij}$ of an edge between node $n_i$ and $n_j$ is an indicator of how important that edge is.
	\item[Component] is a subnet of nodes in a network so that there is a path between any two nodes that belong to the component.
	\item[Degree] $k_i$ of a node $n_i$ represents the number of other animals this focal animal interacts with.
	\item[Average Degree] $\langle k \rangle$ is the number of interaction partners an animal has on average in the network.
	\item[Path length (distance)] $d_{ij}$ is the shortest number of links between the nodes $n_i$ and $n_j$.
	\item[Average path length] $\langle d \rangle$ is the average of all shortest paths between all pairs of nodes.
	\item[Diameter] $d_{\texttt{max}}$ represents the length of the longest shortest paths, respectively the longest possible path length in the network.
\end{description}
\vspace{5mm}
\end{addmargin}
}
\end{minipage}}


\paragraph{Density} $D$ is the number of realized links divided by the number
of theoretically possible links is defined as: $$D=\frac{2L}{N(N-1)}$$

\paragraph{Strength} $s_i$ of a node $n-i$ is also called the weighted degree.
It measures the total weight of edges connected to that node.
The average strength is denoted as~$\langle s \rangle$.
According to~\textcite{barrat2004architecture} it is defined as:
$$s_i = \sum_{j=1}^{n}w_{ij}$$. 

\paragraph{Global clustering coefficient (gcc)} $C_\Delta$ is also called transitivity. According to~\textcite{wasserman1994social} it is defined as: $$C_\Delta = \frac{3 \times \texttt{number of triangles}}{\texttt{number of connected triples}}$$.

\paragraph{Local clustering coefficient (lcc)} $c$ of a node $n$ quantifies how close its neighbors are
to being a clique.

\paragraph{Centrality}
When looking at the node level structure of a network, it is possible to identify nodes, which are important or central to the network, regarding different aspects. This concept is called \emph{centrality} and measures the influence of a node in a network.

\paragraph{Degree Centrality}
$C^i_D$ is the normalized degree $k_i$ of a node $n_i$ in relation to the whole network. Its is calculated as follows:
$$C^i_D=\frac{k_i}{N-1}$$

\paragraph{Closeness Centrality}
$C^i_C$ of a node $n_i$ measures how close this node is to all other nodes in the network. 
It is the average length of shortes paths between node $n_i$ and all other nodes in the network.

$$C_C^i=\frac{N}{\sum_{j}d_{ij}}$$

\paragraph{Betweenness Centrality}
$C^i_B$ of a node $n_i$ measures the extent to which a node lies on paths between other nodes. Nodes that occur on many shortest paths between other nodes have a higher betweenness that those that do not.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Community Detection}
\label{subsec:bg:communities}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
To understand the large-scale structure of networks, one can look at the network's community structure. Communities are naturally occurring groups within a network, usually also called clusters, cohesive groups or modules and have no widely accepted, unique definition~\cite{palla2005uncovering}.
For my work, I adapt the definition according to~\textcite[p. 322]{barabasi2016network}: 
``In network science, we call a community a group of nodes that have a higher likelihood of connecting to each other than to nodes from other communities.'' In contrast to a simple graph partition, the number and size of communities is not predetermined or set in advance.

Communities in animal social networks refer to groups of individuals that are associated more with each other than they are with the rest of the population. These communities reflect an intermediate level of social organization, which is located between the individual and population level~\cite{croft2008exploring}.

There are a lot of different approaches and algorithms that address the detection of communities. \textcite{fortunato2010community} gives an extensive overview of the various types of community detection algorithms.
Explaining any of those would be beyond the scope of this work. For example, traditional methods include algorithms based on graph partitioning, hierarchical clustering, and spectral clustering. There are also divisive and agglomerative algorithms.
The algorithms used in this work are described in the following sections and include the leading eigenvector~\cite{newman2006finding} and walktrap~\cite{pons2005computing} algorithm.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Modularity}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Modularity is a quantity that measures the quality of a partitioning.
It can be used to compare a community partition to another and decide for the better one.
Modularity optimization is also used for community detection algorithms.
A high modularity of a network indicates more connection between nodes within a community and fewer connections between nodes of different communities.
The basic idea is: If the fraction of links inside the community is higher, than expected in the same community of a corresponding random graph having the same degree distribution, then it is a community in the sense of modularity.
This difference is summed up and normalized.
If all nodes fall into one community, the modularity is $0$.
Fewer links inside the community than expected result in a negative value, otherwise positive.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsubsection{Leading Eigenvector and Walktrap}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
The \emph{leading eigenvector} algorithm was proposed by \textcite{newman2006finding}.
It uses the eigenvectors of matrices for finding community structures in networks.
It is a top-down hierarchical approach that optimizes modularity.
The algorithm starts with all nodes inside one community (modularity is 0).
In each step, the network is split into two parts, so that the modularity of the new separation increases.
The splitting is done by first calculating the leading eigenvector of the modularity matrix and then splitting the graph in a way that maximizes the modularity improvement based on the leading eigenvector.
The algorithm stops if the modularity does not further increase.

The \emph{walktrap} algorithm by\textcite{pons2005computing} is based on random walks.
The authors consider random walks as a tool to calculate the similarity between nodes of a network.
It uses a bottom-up hierarchical approach, that means the algorithm starts with each node in a single community.
The basic idea of walktrap is that short distance random walks (the step size is a parameter) tend to stay in the same community because there are only a few links that lead outside a given community.
The results of these random walks are used to merge separate communities.
Again modularity can be used to cut the dendrogram at an optimal place.