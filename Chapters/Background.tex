%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Theretical Background}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
The following chapter gives a short introduction into social network analysis (SNA). It introduces animal interaction networks as a special type of network. It defines terms and concepts used throughout this work and explains networks metrics and algorithms of which we will make use of.

Social network analysis is a way of mapping and measuring specific relationships and flows between entities

mapping and measuring of relationships and flows between people, groups, organizations, computers, URLs, and other connected information/knowledge entities. 
\\
Social network analysis (SNA) is the process of investigating social structures through the use of network and graph theories.[1] It characterizes networked structures in terms of nodes (individual actors, people, or things within the network) and the ties, edges, or links (relationships or interactions) that connect them. 
 
number of nodes/vertices $N$ (size of the network)\\
number of links/edges $L$\\
$D$ is density $D=\frac{2L}{N(N-1)}$
$k$ degree of a node $n$, $k_i$ of $n_i$\\
$ \langle k  \rangle$ average degree\\
definitions taken from~\textcite{barabasi2016network}\\

$\langle C \rangle$ average clustering coefficient\\

* number of nodes $N$\\
* number of links $L$\\
* density $D$\\
* average degree $ \langle k  \rangle$\\
* average weighted degree, average strength $\langle s \rangle$\\ 
* max and min (weighted) degree\\
* global clustering coefficient $C_\Delta = \frac{3 \times \texttt{number of triangles}}{\texttt{number of connected triples}}$ (transiticvity undirected)~\cite{wasserman1994social}\\

* Number of components (Connesctedness): components = subnetworks, A component is a subnet of nodes in a network, so that there is a path between any two nodesthat belong to teh component, but one cannot addany more nodes to it that would have the same property.\\

* Average shortest path (average path length) $\langle d \rangle$: The average of the shortest path between all pairs of nodes.\\

* Diameter $d_{\texttt{max}}$:The longest shortest path , or the distance between the two furthest nodes.\\



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Animal Interaction Networks}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Networks where individuals are nodes and edges are defined as interaction events between individuals are called \emph{interaction networks}, sometimes also contact networks. 
Those interactions used as an edge can be of different types~\cite{charbonneau2013social}:

\begin{itemize}
\item spatial proximity~\cite{jeanson2012long, otterstatter2007contact},
\item physical contact (usually with antennae, “antennation”)~\cite{mersch2013tracking} [TODO anschauen: 10, 67, 80]
\item a food exchange event (trophallaxis) [TODO anschauen: 15, 68, 69, 93]
\item or specific communication signals [TODO anschauen: 38, 56]
\end{itemize}

directed and undirected\\
weighted and unweighted\\

define proximity/association\\

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Network Metrics and Algorithms}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
Basic terms\\

Graph: a set of nodes and a set of relationships between the
nodes, given by a matrix or visualized as a picture showing
dots connected by lines\\

Node: a component of a network with known relationships
to others in the graph model representing the network; in
a social network, this can be an individual (person or animal)
or group; also called a vertex or point\\

Path length: the shortest number of ties between two nodes\\

Sociomatrix: for a group with n members, an nn matrix
with each group member along the vertical and horizontal
axes and each entry in the grid as the weight of the social relationship,
if any, between the two intersecting individuals\\

Tie: a relationship between two components of a network,
where the two related components are nodes in the graph
model representing the network; in a social network, these
can be any sort of social relationship, such as social interactions
or information transfer; also called an edge or link\\

Individual (local) measures\\

Betweenness centrality: centrality based on the number of
shortest paths between every pair of other group members
on which the focal individual lies\\

Centrality: a measure of an individual’s structural importance
in a group based on its network position\\

Closeness centrality: centrality based on the shortest path
length between a focal individual and all other members of
the social group\\

Degree centrality: centrality based on the number of direct
ties an individual has\\

Indegree (reception): the number of ties directed towards
an animal, e.g. the number of social interactions it receives\\

Node degree: the number of ties a focal animal has; the
number of other animals with which the focal individual
interacts\\

Outdegree (emission): the number of ties originating from
an animal, e.g. the number of social interactions it initiates\\

Intermediate measures\\

Clustering coefficient: the density of the subnetwork of a focal
individual’s neighbours; the number of ties between
neighbours is divided by the maximal possible number of
ties between them\\

Cliquishness: how much the network is divided into cohesive
subgroups; a clique is a set of nodes where each node
is directly tied to each other\\

Group measures\\

Average path length: the average of all path lengths between
all pairs of nodes in the network\\

Density: the number of realized ties divided by the number
of possible ties in the network\\

Diameter: the longest path length in the network\\
\textcite{wey2008social}


Degree Distribution\\
Degree Centrality, Closeness Centrality, Betweenness Centrality\\
Clustering Coefficient\\
Modularity\\

Proximity (distance), strength, disparity, closeness, and betweennes are taken from \textcite{jeanson2012long}.\\

\paragraph*{Measures for weighted networks}
strength $S_i$ measures the total weight of edges connected to a node $i$ and is definded as $S_i = \sum_{j=1}^{n}w_ij$ according to~\textcite{barrat2004architecture}\\
closeness, computed using Dijkstra’s algorithm with that edge attribute as the edge weight~\cite{newman2001scientific}\\
betweenness using dijkstra~\cite{brandes2001faster}\\

weighted clustering coefficient and weighted average clustering coefficient~\cite{saramaki2007generalizations}\\

\paragraph*{Disparity}
\url{https://github.com/aekpalakorn/python-backbone-network}
Low values of disparity indicated that the weights of associations were of the same order and, consequently, that ants interacted homogeneously with all nestmates. In contrast, privileged associations between ants were evidenced by relatively large values of disparity showing the dominance of a few weights over the others.~\cite{barthelemy2005characterization}

Disparity: For a given node i   with connectivity  ki  and strength  si  different situations can arise. All weights  wij  can be of the same order  si/ki . In contrast, the most heterogeneous situation is obtained when one weight dominates over all the others. A simple way to measure this “disparity” is given by the quantity  Y2  introduced in other context [12] ;  [13];

$$Y_2(i)=\sum_{j\in \Theta(i)} (\frac{w_ij}{s_i})^2$$

\paragraph*{Centrality measures}
betweenness and closeness
eigenvector centrality (eigencentrality)

\paragraph{Network Reduction algorithms (backboning)}
k-core decomposition\\
minimum spanning tree\\
Global weight treshold\\
Disparity Filter\\

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Temporal Networks}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
TODO



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Community Detection}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
To understand the large-scale structure of networks, one can look at the networks so called community structure. Communities are naturally occuring groups in a network. Seperate graph into groups of nodes that have few links between them. The number and size of communities is not fixes (as compared to graph partitioning!).~\cite[p.~371]{newman2010networks}

In network science we call a community a group of nodes that have a higher likelihood of connecting t each other than t nodes from other communities~\cite[p.~X]{barabasi2016network}.
A networks's community structure is uniquely encoded in its wiring diagram~\cite[p.~X]{barabasi2016network}.
A community is a locally dense connected subgraph in a network~\cite[p.~X]{barabasi2016network}.

In other words, all members of a community must be reached through other members of the same community (connectedness). At the same time we expect that nodes that belong to a community have a higher probability to link to the other members of that community than to nodes that do not belong to the same community (density). While this hypothesis considerably narrows what would be considered a community, it does not uniquely define it. Indeed, as we discuss below, several community definitions are consistent with H2.\\
groups of vertices with a higher-than-average density of edges connecting them\\
meaning of communities in animal social networks\\

There are a lot of different approaches and algorithms who adress the detection of communities. \textcite{fortunato2010community} gives an extensive overview about well known  types of algorithms for further reading. The algorithms used in this work, for static and dynamic detection, are described in the following sections.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Leading Eigenvector}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\textcite{newman2006finding} propose an algorihtms which uses the eigenvectors of matrices for finding community structures in networks.

stackoverflow\\
leading.eigenvector.community is a top-down hierarchical approach that optimizes the modularity function again. In each step, the graph is split into two parts in a way that the separation itself yields a significant increase in the modularity. The split is determined by evaluating the leading eigenvector of the so-called modularity matrix, and there is also a stopping condition which prevents tightly connected groups to be split further. Due to the eigenvector calculations involved, it might not work on degenerate graphs where the ARPACK eigenvector solver is unstable. On non-degenerate graphs, it is likely to yield a higher modularity score than the fast greedy method, although it is a bit slower.\\

Leading eigenvector.  This algorithm was proposed by Newman39. The heart of this algorithm is the spectral optimisation of modularity by using the eigenvalues and eigenvectors of the modularity matrix. First, the leading eigenvector of the modularity matrix is calculated, and then the graph is split into two parts in a way that modu-larity improvement is maximised based on the leading eigenvector. After that, the modularity contribution is calculated at each step in the subdivision of a network. It stops once the value of the modularity contribution is not positive. Its computational complexity of each graph bipartition.~\cite{yang2016comparative}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Communities in Evolving Networks}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\label{sec:bg:tracking}
According to \textcite{aynaud2013communities} and \textcite{brodka2014community} there are three main approaches for community detection in temporal networks (also called community tracking): (1) using a static community detection algorithm on several snapshots and then solving a matchig problem, (2) using algorithms who are directly suited for temporal networks and (3) using incremental or online algorithms when processing data streams. For each of the three approaches, several mehods already exist.

As community tracking is not the main focus of this work, I chose to apply the most intuitive approach aout of approach (1): detecting static communities for each snapshot and then matching those communities using set theory.  Two communities at successive timesteps are matched if they share enough nodes. The \emph{match value} (between 1 and 0) between two communities $C$ and $D$ according to~\cite{hopcroft2004tracking} is defined as:

\begin{equation}
\label{eq:match}
\texttt{match}(C,D) = \texttt{min}\left( \frac{\textbar C\cap D \textbar}{\textbar C\textbar }, \frac{\textbar C\cap D \textbar}{\textbar D \textbar }\right)
\end{equation}

A high match value accurse, when two communities share a lot of nodes and are of a similar size. Communities with the highest value are matched. A threshold should be applied to more precicley define what ``share enough nodes'' means.
